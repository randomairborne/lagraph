<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>LA Thoughtgraph</title>
  </head>

  <body>
    <label for="ta-x">Enter your thought graph:</label>
    <br />
    <textarea id="ta-x" rows="40" cols="80"></textarea>
    <br />
    <button id="sb-x">Display thoughtgraph</button>
    <script type="module">
      import init, { dotfile } from "./rustlib/lagraph.js";

      const btn = document.getElementById("sb-x");
      const df = document.getElementById("ta-x");
      init().then(() => {
        btn.addEventListener("click", () => {
          const dot = dotfile(df.value);
          let url = new URL(
            "https://dreampuf.github.io/GraphvizOnline/?presentation",
          );
          url.hash = dot;
          window.open(url, "_blank").focus();
        });
      });
    </script>
  </body>
</html>
